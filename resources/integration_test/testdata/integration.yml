dataset:
  - db: integration_test
    collection: Transactions
    docs:
      - {_id: 0, account_id: 10329,  transaction_count: 2, bucket_start_date: 2000-01-01, bucket_end_date: 2000-01-02, transactions: [10, 20 , 30, 40] }
      - {_id: 1, account_id: 54545,  transaction_count: 150, bucket_start_date: 2010-08-25, bucket_end_date: 2010-09-25, transactions: [5, 25 , 35, 45]}
      - {_id: 2, account_id: 7475,  transaction_count: 5, bucket_start_date: 1815-11-01, bucket_end_date: 1815-12-04, transactions: [1, 2 , 3, 4]}
      - {_id: 3, account_id: 54545,  transaction_count: 1, bucket_start_date: 1965-02-02, bucket_end_date: 1966-02-02, transactions: [10000 ] }

    schema: {
      bsonType: [ "object" ],
      properties: {
          bucket_end_date: { bsonType: [ "date" ] },
          transactions: {
            bsonType: [ "array" ],
            items: { bsonType: "int"}
          },
          _id: { bsonType: [ "objectId" ] },
          account_id: { bsonType: [ "int" ] },
          transaction_count: { bsonType: [ "int" ] },
          bucket_start_date: { bsonType: [ "date" ] }
        }
      }
  - db: integration_test
    collection: Accounts
    docs:
      - {_id: 0, account_id: 10329,  limit: 6, products: ["one thing", "or another"] }
      - {_id: 1, account_id: 54545,  limit: 12, products: ["produit", "product"] }
      - {_id: 2, account_id: 7475,  limit: 0, products: ["this", "that"] }
    schema: {
      bsonType: [ "object" ],
      properties: {
        account_id: { bsonType: [ "int" ] },
        limit: { bsonType: [ "int" ] },
        products: { bsonType: [ "array" ], items: [ { bsonType: "string"} ] },
        _id: { bsonType: [ "objectId" ] }
      }
    }

  - db: integration_test
    collection: test_string_collection
    docs:
      - { _id: 0, strVal: "totoalaplage" }
      - { _id: 1, strVal: "" }
      - { _id: 2 }
      - { _id: 3, strVal: "a" }
      - { _id: 4, strVal: "b" }
      - { _id: 5, strVal: "ab" }
      - { _id: 6, strVal: "ba" }
      - { _id: 7, strVal: "ala" }
      - { _id: 8, strVal: "      totoalaplage" }

  - db: integration_test
    collection: test_split
    docs:
      - { _id: 0, strVal: "abcd" }
      - { _id: 1, strVal: "" }
      - { _id: 2 }
      - { _id: 3, strVal: "a-b-c-d" }
      - { _id: 4, strVal: "a/\\b/\\c/\\d" }
      - { _id: 5, strVal: "ag/\\bh/\\cj/\\dk" }
      - { _id: 6, strVal: "∫a∫b∫c∫d∫" }
      - { _id: 8, strVal: "      abcd" }
      - { _id: 9, strVal: "λ€bee€寿€d" }

  - db: integration_test
    collection: test_split_translation
    docsExtJson:
      - {'_id': 0, 'str': '', 'delim': '-', 'tokenNum': { '$numberInt': '0' }}
      - {'_id': 1, 'str': 'abcd', 'delim': '-', 'tokenNum': { '$numberInt': '0' }}
      - {'_id': 2, 'str': 'abcd', 'delim': null, 'tokenNum': { '$numberInt': '0' }}
      - {'_id': 3, 'str': 'a-bee-c-d', 'delim': '-', 'tokenNum': { '$numberInt': '1' }}
      - {'_id': 4, 'str': 'a-bee-c-d', 'delim': '-', 'tokenNum': { '$numberInt': '-2' }}
      - {'_id': 5, 'str': 'a-bee-c-d', 'delim': '-', 'tokenNum': { '$numberInt': '0' }}
      - {'_id': 6, 'str': 'a-bee-c-d', 'delim': '-', 'tokenNum': { '$numberInt': '7' }}
      - {'_id': 7, 'str': 'a-bee-c-d', 'delim': '-', 'tokenNum': { '$numberInt': '-7' }}
      - {'_id': 8, 'str': 'a/\bee/\c/\d', 'delim': '/\', 'tokenNum': { '$numberInt': '2' }}
      - {'_id': 9, 'str': null, 'delim': '-', 'tokenNum': { '$numberInt': '0' }}
      - {'_id': 10, 'str': 'a-bee-c-d', 'delim': null, 'tokenNum': { '$numberInt': '0' }}
      - {'_id': 11, 'str': 'a-bee-c-d', 'delim': '-', 'tokenNum': null}
      - {'_id': 12, 'delim': '-', 'tokenNum': { '$numberInt': '0' } }
      - {'_id': 13, 'str': 'a-bee-c-d', 'tokenNum': { '$numberInt': '0' } }
      - {'_id': 14, 'str': 'a-bee-c-d', 'delim': '-' }
      - {'_id': 17, 'str': 'λ-bee-寿-d', 'delim': '-', 'tokenNum': { '$numberInt': '2' }}
      - {'_id': 18, 'str': 'λ€bee€寿€d', 'delim': '€', 'tokenNum': { '$numberInt': '2' }}
      - {'_id': 19}

  - db: integration_test
    collection: class
    docs:
      - {_id: 0, studentid: 10329,  name: "John", enrolled: true, startdate: 2000-01-01 }
      - {_id: 1, studentid: 342,  name: "Jane", enrolled: false, startdate: 2000-02-01}
      - {_id: 2, studentid: 303,  name: "Mike", enrolled: true, startdate: 2000-01-01}
      - {_id: 3, studentid: 204323,  name: "Mary", enrolled: false, startdate: 2000-03-01}
      - {_id: 4, studentid: 10,  name: "Pete", enrolled: false, startdate: 2000-01-01}

  - db: integration_test
    collection: grades
    docs:
      - {_id: 0, studentid: 303, testid: 3, score: 84.5}
      - {_id: 1, studentid: 10329, testid: 3,  score: 97.4}
      - {_id: 2, studentid: 342, testid: 3,  score: 89.3}
      - {_id: 3, studentid: 204323, testid: 3, score: 91.9}
      - {_id: 4, studentid: 303, testid: 5, score: 87.5}
      - {_id: 5, studentid: 10329, testid: 5,  score: 74.4}
      - {_id: 6, studentid: 342, testid: 5,  score: 80.1}
      - {_id: 7, studentid: 204323, testid: 5, score: 83.3}
      - {_id: 8, studentid: 200, testid: 5, score: 78.5}

  - db: integration_test
    collection: anyof_collection
    docsExtJson:
      - { _id: 0, a: {"$numberInt": "3" } }
      - { _id: 1, a: {"$numberLong": "3000000000"} }
      - { _id: 2, a: {"$numberDouble": "4.5"} }
      - { _id: 3, a: {"$numberDecimal": "1234.5"}}
    schema: {
              "bsonType":[
                  "object"
              ],
              "properties":{
                "a":{
                  "bsonType":[
                      "long",
                      "double",
                      "int",
                      "decimal"
                  ]
                },
                "_id":{
                  "bsonType":[
                      "int"
                  ]
                }
              }
            }

  - db: integration_test
    collection: any_collection
    docs:
      - { _id: 0, b: 3 }
      - { _id: 1, b: "b" }
      - { _id: 2, b: 4.5 }
    schema: {
      "bsonType":[
          "object"
      ],
      "required":[
          "b"
      ],
      "properties":{
        "_id":{
          "bsonType":[
              "int"
          ]
        }
      }
    }

  - db: integration_test
    collection: null_and_missing
    docs:
      - { _id: 0, "a": !!org.bson.BsonTimestamp 1}
      - { _id: 1, "a": null }
      - { _id: 2 }

  - db: integration_test
    collection: a_non_lexicographic_field_order
    docs:
      - { _id: 4, "c": 7, "b": 6, "a":5, "A":1, "B": 2, "C": 3 }

  - db: integration_test
    collection: b_non_lexicographic_field_order
    docs:
      - { "a": 9, _id: 8 }

  - db: integration_test
    collection: types_other
    docsExtJson:
      - {
        _id: 0,
        array: [ 1, 2, 3, "$oid": "000000000000000000000003", "$timestamp": { "t": 200, "i": 0 }],
        dbPointer: { "$dbPointer": { "$ref": "namespace", "$id": { "$oid": "000000000000000000000001" }}},
        javascript: { "$code": "function(){ }" },
        javascriptWithScope: { "$code": "function(){ }", "$scope": { "foo": "bar" }},
        maxKey: { "$maxKey": 1 },
        minKey: { "$minKey": 1 },
        object: { "foo": "bar", "objId": { "$oid": "000000000000000000000002" }, "value": 3,
                 "time": { "$timestamp": { "t": 200, "i": 0 }}},
        objectId: { "$oid": "000000000000000000000001" },
        regularExpression: { "$regularExpression": { pattern: "a(bc)*", "options": "" }},
        symbol: { "$symbol": "symbol" },
        timestamp: { "$timestamp": { "t": 100, "i": 0 }}
        # Skip reason: SQL-395
        # undefined: {"$undefined":true},
      }

  - db: integration_test
    view: baz

  - db: integration_test
    collection: "binaryData"
    docsExtJson:
      - {
        _id: 1,
        val: { "$binary":
                 {
                   "base64": "dGl0aSDDoCBsYSBwbGFnZQ==",
                   "subType": "0"
                 }
        }
      }
